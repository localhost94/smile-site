<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMILE Platform Documentation</title>
    <link rel="stylesheet" href="assets/styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <a href="#" class="logo">
                <div class="logo-icon">S</div>
                <span>SMILE Platform</span>
            </a>
            <nav class="nav-links">
                <a href="#docs" class="nav-link">Documentation</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#contact" class="nav-link">Contact</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Executive Dashboard Section -->
        <section class="executive-dashboard">
            <h2 class="dashboard-title">Executive Dashboard</h2>
            
            <!-- Vaccine Metrics -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon total"></div>
                    <div class="metric-content">
                        <h3>Total Penyebaran Vaksin</h3>
                        <div class="metric-value" data-target="2000000">0</div>
                        <div class="metric-percentage">100%</div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon damaged"></div>
                    <div class="metric-content">
                        <h3>Vaksin Rusak</h3>
                        <div class="metric-value" data-target="1000000">0</div>
                        <div class="metric-percentage">50%</div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon broken"></div>
                    <div class="metric-content">
                        <h3>Vaksin Pecah</h3>
                        <div class="metric-value" data-target="200000">0</div>
                        <div class="metric-percentage">10%</div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon expired"></div>
                    <div class="metric-content">
                        <h3>Vaksin Kedaluwarsa</h3>
                        <div class="metric-value" data-target="800000">0</div>
                        <div class="metric-percentage">40%</div>
                    </div>
                </div>
            </div>
            
            <!-- Charts Grid -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Status Ketersediaan Stok</h3>
                    <canvas id="stockStatusChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Material Berdasarkan Status Ketersediaan Stok</h3>
                    <canvas id="materialChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Status Suhu Kulkas Vaksin</h3>
                    <canvas id="temperatureChart"></canvas>
                </div>
            </div>
        </section>

        <section class="hero">
            <h1>SMILE Platform Documentation</h1>
            <p class="hero-subtitle">
                Comprehensive documentation for the SMILE Digital Public Good (DPG) project, 
                including technical guides, deployment instructions, and infrastructure details.
            </p>
            <div class="hero-stats">
                <div class="stat">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Core Documents</div>
                </div>
                <div class="stat">
                    <div class="stat-number">2018</div>
                    <div class="stat-label">Since</div>
                </div>
                <div class="stat">
                    <div class="stat-number">3</div>
                    <div class="stat-label">SDGs Supported</div>
                </div>
            </div>
        </section>

        <section id="docs">
            <div class="doc-grid">
                <div class="doc-card">
                    <div class="doc-card-header">
                        <div class="doc-icon">üìã</div>
                        <h3>DPG Tasks Tracker <span class="badge badge-dpg">DPG</span></h3>
                    </div>
                    <p>Track immediate tasks, governance requirements, and evidence needed for DPG preparation and compliance.</p>
                    <div class="doc-links">
                        <a href="docs/dpg/tasks-tracker.md" class="doc-link doc-link-secondary">
                            <span>üìÑ</span> View Source
                        </a>
                        <a href="assets/html/dpg-tasks-tracker.html" class="doc-link doc-link-primary">
                            <span>üåê</span> View HTML
                        </a>
                    </div>
                </div>
                
                <div class="doc-card">
                    <div class="doc-card-header">
                        <div class="doc-icon">üöÄ</div>
                        <h3>Deployment Guide</h3>
                    </div>
                    <p>Comprehensive guide for deploying SMILE5 on AWS, including prerequisites, configuration, and troubleshooting.</p>
                    <div class="doc-links">
                        <a href="docs/deployment-guide.md" class="doc-link doc-link-secondary">
                            <span>üìÑ</span> View Source
                        </a>
                        <a href="assets/html/deployment-guide.html" class="doc-link doc-link-primary">
                            <span>üåê</span> View HTML
                        </a>
                    </div>
                </div>
                
                <div class="doc-card">
                    <div class="doc-card-header">
                        <div class="doc-icon">üìä</div>
                        <h3>Technical Overview</h3>
                    </div>
                    <p>Centralized technical documentation covering technologies, frameworks, data pipeline, and infrastructure.</p>
                    <div class="doc-links">
                        <a href="docs/technical-overview.md" class="doc-link doc-link-secondary">
                            <span>üìÑ</span> View Source
                        </a>
                        <a href="assets/html/technical-overview.html" class="doc-link doc-link-primary">
                            <span>üåê</span> View HTML
                        </a>
                    </div>
                </div>
                
                <div class="doc-card">
                    <div class="doc-card-header">
                        <div class="doc-icon">‚òÅÔ∏è</div>
                        <h3>Cloud Infrastructure</h3>
                    </div>
                    <p>Detailed architecture and setup of SMILE's cloud infrastructure on AWS, including networking and security.</p>
                    <div class="doc-links">
                        <a href="docs/cloud-infrastructure.md" class="doc-link doc-link-secondary">
                            <span>üìÑ</span> View Source
                        </a>
                        <a href="assets/html/cloud-infrastructure.html" class="doc-link doc-link-primary">
                            <span>üåê</span> View HTML
                        </a>
                    </div>
                </div>
                
                <div class="doc-card">
                    <div class="doc-card-header">
                        <div class="doc-icon">üîÑ</div>
                        <h3>Data Streaming</h3>
                    </div>
                    <p>Documentation of SMILE's data streaming architecture, including real-time data processing and integration.</p>
                    <div class="doc-links">
                        <a href="docs/data-streaming.md" class="doc-link doc-link-secondary">
                            <span>üìÑ</span> View Source
                        </a>
                        <a href="assets/html/data-streaming.html" class="doc-link doc-link-primary">
                            <span>üåê</span> View HTML
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="about-section">
            <h2>About SMILE</h2>
            <p>
                SMILE (Smart Integrated Logistics Engine) is a comprehensive logistics management platform 
                developed jointly by the Ministry of Health of Indonesia and UNDP Indonesia. Since its inception 
                in 2018, SMILE has evolved into a robust Digital Public Good that addresses multiple Sustainable 
                Development Goals (SDGs).
            </p>
            <p>
                The platform has been successfully deployed across multiple regions, improving healthcare supply 
                chain management and ensuring equitable distribution of medical resources to communities in need.
            </p>
            <div class="sdgs">
                <div class="sdg-badge">SDG 3: Good Health</div>
                <div class="sdg-badge">SDG 5: Gender Equality</div>
                <div class="sdg-badge">SDG 10: Reduced Inequality</div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Use</a>
                <a href="#" class="footer-link">Support</a>
            </div>
            <div class="footer-text">
                ¬© 2024 SMILE Platform. A Digital Public Good initiative.
            </div>
        </div>
    </footer>

    <script>
        // Animate number counters
        function animateCounters() {
            const counters = document.querySelectorAll('.metric-value');
            const speed = 200;

            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const increment = target / speed;

                const updateCount = () => {
                    const count = +counter.innerText.replace(/,/g, '');
                    
                    if (count < target) {
                        counter.innerText = Math.ceil(count + increment).toLocaleString();
                        setTimeout(updateCount, 10);
                    } else {
                        counter.innerText = target.toLocaleString();
                    }
                };

                updateCount();
            });
        }

        // Real-time data simulation
        function getRandomValue(base, variance) {
            return base + (Math.random() - 0.5) * variance;
        }

        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Start counter animations
            setTimeout(animateCounters, 500);

            // Stock Status Donut Chart
            const stockStatusCtx = document.getElementById('stockStatusChart').getContext('2d');
            const stockStatusChart = new Chart(stockStatusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Normal', '< Min', '> Max', 'Habis'],
                    datasets: [{
                        data: [45, 20, 25, 10],
                        backgroundColor: [
                            '#10b981',
                            '#f59e0b',
                            '#3b82f6',
                            '#ef4444'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true,
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    }
                }
            });

            // Material Bar Chart
            const materialCtx = document.getElementById('materialChart').getContext('2d');
            const materialChart = new Chart(materialCtx, {
                type: 'bar',
                data: {
                    labels: ['BCG @20 ds', 'IPV @5 ds', 'MR @10 ds', 'Polio @10 ds', 'Hep B @10 ds'],
                    datasets: [{
                        label: 'Habis',
                        data: [80, 76, 74, 73, 50],
                        backgroundColor: '#ef4444',
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuart',
                        delay: (context) => {
                            let delay = 0;
                            if (context.type === 'data' && context.mode === 'default') {
                                delay = context.dataIndex * 200;
                            }
                            return delay;
                        }
                    }
                }
            });

            // Temperature Donut Chart
            const temperatureCtx = document.getElementById('temperatureChart').getContext('2d');
            const temperatureChart = new Chart(temperatureCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Normal', 'Rendah', 'Tinggi', 'Tidak Diketahui'],
                    datasets: [{
                        data: [60, 15, 10, 15],
                        backgroundColor: [
                            '#10b981',
                            '#3b82f6',
                            '#ef4444',
                            '#6b7280'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true,
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    }
                }
            });

            // Real-time updates
            setInterval(() => {
                // Add updating class for visual feedback
                document.querySelectorAll('.metric-value').forEach(counter => {
                    counter.classList.add('updating');
                });

                // Update Stock Status Chart
                const stockData = stockStatusChart.data.datasets[0].data;
                const newStockData = [
                    Math.max(10, Math.min(70, getRandomValue(stockData[0], 5))),
                    Math.max(5, Math.min(30, getRandomValue(stockData[1], 3))),
                    Math.max(10, Math.min(40, getRandomValue(stockData[2], 4))),
                    Math.max(5, Math.min(20, getRandomValue(stockData[3], 2)))
                ];
                
                // Animate the transition
                stockStatusChart.data.datasets[0].data = newStockData;
                stockStatusChart.update('active');

                // Update Material Chart with staggered animation
                const materialData = materialChart.data.datasets[0].data;
                const newMaterialData = materialData.map((value, index) => {
                    setTimeout(() => {
                        materialChart.data.datasets[0].data[index] = Math.max(20, Math.min(95, getRandomValue(value, 8)));
                        materialChart.update('active');
                    }, index * 100);
                    return Math.max(20, Math.min(95, getRandomValue(value, 8)));
                });

                // Update Temperature Chart
                const tempData = temperatureChart.data.datasets[0].data;
                temperatureChart.data.datasets[0].data = [
                    Math.max(30, Math.min(80, getRandomValue(tempData[0], 6))),
                    Math.max(5, Math.min(25, getRandomValue(tempData[1], 3))),
                    Math.max(5, Math.min(20, getRandomValue(tempData[2], 2))),
                    Math.max(5, Math.min(25, getRandomValue(tempData[3], 3)))
                ];
                temperatureChart.update('active');

                // Update metrics with animated counting
                document.querySelectorAll('.metric-value').forEach((counter, index) => {
                    const baseValue = parseInt(counter.getAttribute('data-target'));
                    const variation = Math.floor((Math.random() - 0.5) * baseValue * 0.02);
                    const newValue = baseValue + variation;
                    
                    // Animate number change
                    animateValue(counter, parseInt(counter.innerText.replace(/,/g, '')), newValue, 500);
                    
                    setTimeout(() => {
                        counter.classList.remove('updating');
                    }, 500);
                });

                // Trigger ripple effect on random chart
                const charts = document.querySelectorAll('.chart-container');
                const randomChart = charts[Math.floor(Math.random() * charts.length)];
                createRippleEffect(randomChart);

            }, 3000); // Update every 3 seconds

            // Add continuous pulse to dashboard title
            setInterval(() => {
                document.querySelector('.dashboard-title').style.transform = 'scale(1.02)';
                setTimeout(() => {
                    document.querySelector('.dashboard-title').style.transform = 'scale(1)';
                }, 200);
            }, 4000);

            // Create floating particles effect
            createFloatingParticles();

            // Add wave animation to metrics
            setInterval(() => {
                document.querySelectorAll('.metric-card').forEach((card, index) => {
                    setTimeout(() => {
                        card.style.transform = 'translateY(-5px) scale(1.02)';
                        setTimeout(() => {
                            card.style.transform = 'translateY(0) scale(1)';
                        }, 300);
                    }, index * 100);
                });
            }, 6000);

            // Animate value changes
            function animateValue(element, start, end, duration) {
                const range = end - start;
                const increment = range / (duration / 16);
                let current = start;
                
                const timer = setInterval(() => {
                    current += increment;
                    if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                        element.innerText = end.toLocaleString();
                        clearInterval(timer);
                    } else {
                        element.innerText = Math.round(current).toLocaleString();
                    }
                }, 16);
            }

            // Create ripple effect
            function createRippleEffect(container) {
                const ripple = document.createElement('div');
                ripple.style.cssText = `
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 0;
                    height: 0;
                    border-radius: 50%;
                    background: rgba(37, 99, 235, 0.1);
                    transform: translate(-50%, -50%);
                    pointer-events: none;
                    z-index: 0;
                `;
                container.appendChild(ripple);
                
                ripple.animate([
                    { width: '0', height: '0', opacity: 0.5 },
                    { width: '300px', height: '300px', opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                }).onfinish = () => ripple.remove();
            }

            // Create floating particles
            function createFloatingParticles() {
                const dashboard = document.querySelector('.executive-dashboard');
                
                setInterval(() => {
                    const particle = document.createElement('div');
                    particle.style.cssText = `
                        position: absolute;
                        width: 4px;
                        height: 4px;
                        background: linear-gradient(45deg, #3b82f6, #10b981);
                        border-radius: 50%;
                        left: ${Math.random() * 100}%;
                        bottom: -10px;
                        pointer-events: none;
                        z-index: 0;
                    `;
                    dashboard.appendChild(particle);
                    
                    particle.animate([
                        { transform: 'translateY(0) scale(0)', opacity: 0 },
                        { transform: 'translateY(-20px) scale(1)', opacity: 1 },
                        { transform: 'translateY(-300px) scale(0.5)', opacity: 0 }
                    ], {
                        duration: 3000,
                        easing: 'ease-out'
                    }).onfinish = () => particle.remove();
                }, 2000);
            }
        });
    </script>
</body>
</html>
